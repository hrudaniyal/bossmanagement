{"ast":null,"code":"import _slicedToArray from\"/home/amoni/Programs/bossmanagement/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{axios}from\"../Axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Postattendance(_ref){var userid=_ref.userid;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),attend=_useState2[0],setAttend=_useState2[1];var today=new Date().toLocaleDateString();useEffect(function(){axios.get(\"/employees/\".concat(userid)).then(function(res){setAttend(res.data);});},[userid]);var Postdata=function Postdata(e){e.preventDefault();var date=new Date().toLocaleDateString();var attendance=e.target.attendance.value;var aparture=e.target.aparture.value;var departure=e.target.departure.value;var id=attend.attendance.length+1;var att={id:id,date:date,attendance:attendance,aparture:aparture,departure:departure};attend.attendance.push(att);axios.put(\"/employees/\".concat(userid,\"/\"),attend).then(function(res){alert('saved attendance');}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Today : \"}),\" \",/*#__PURE__*/_jsx(\"b\",{children:today}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:Postdata,className:\"att-form\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-column\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Attendance  \"}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"attendance\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{children:\"present\"}),/*#__PURE__*/_jsx(\"option\",{children:\"absent\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-column\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Aparture  \"}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"input\",{name:\"aparture\",type:\"time\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-column\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Departure \"}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"input\",{name:\"departure\",type:\"time\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-column\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Post\"})]})]})]});}export default Postattendance;","map":{"version":3,"sources":["/home/amoni/Programs/bossmanagement/src/components/employees/Postattendance.jsx"],"names":["React","useEffect","useState","axios","Postattendance","userid","attend","setAttend","today","Date","toLocaleDateString","get","then","res","data","Postdata","e","preventDefault","date","attendance","target","value","aparture","departure","id","length","att","push","put","alert","catch","error","console","log"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,KAAT,KAAsB,UAAtB,C,wFAEA,QAASC,CAAAA,cAAT,MAAoC,IAAVC,CAAAA,MAAU,MAAVA,MAAU,CAClC,cAA4BH,QAAQ,CAAC,EAAD,CAApC,wCAAOI,MAAP,eAAeC,SAAf,eACA,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,kBAAX,EAAd,CACAT,SAAS,CAAC,UAAM,CAEdE,KAAK,CAACQ,GAAN,sBAAwBN,MAAxB,GAAkCO,IAAlC,CAAuC,SAACC,GAAD,CAAS,CAC9CN,SAAS,CAACM,GAAG,CAACC,IAAL,CAAT,CACD,CAFD,EAGD,CALQ,CAKN,CAACT,MAAD,CALM,CAAT,CAMA,GAAMU,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAG,GAAIT,CAAAA,IAAJ,GAAWC,kBAAX,EAAb,CACA,GAAMS,CAAAA,UAAU,CAAGH,CAAC,CAACI,MAAF,CAASD,UAAT,CAAoBE,KAAvC,CACA,GAAMC,CAAAA,QAAQ,CAAGN,CAAC,CAACI,MAAF,CAASE,QAAT,CAAkBD,KAAnC,CACA,GAAME,CAAAA,SAAS,CAAGP,CAAC,CAACI,MAAF,CAASG,SAAT,CAAmBF,KAArC,CACA,GAAMG,CAAAA,EAAE,CAAGlB,MAAM,CAACa,UAAP,CAAkBM,MAAlB,CAAyB,CAApC,CACA,GAAMC,CAAAA,GAAG,CAAG,CACVF,EAAE,CAAFA,EADU,CAEVN,IAAI,CAAJA,IAFU,CAGVC,UAAU,CAAVA,UAHU,CAIVG,QAAQ,CAARA,QAJU,CAKVC,SAAS,CAATA,SALU,CAAZ,CAOAjB,MAAM,CAACa,UAAP,CAAkBQ,IAAlB,CAAuBD,GAAvB,EAEAvB,KAAK,CACFyB,GADH,sBACqBvB,MADrB,MACgCC,MADhC,EAEGM,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbgB,KAAK,CAAC,kBAAD,CAAL,CACD,CAJH,EAKGC,KALH,CAKS,SAAUC,KAAV,CAAiB,CACtBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAPH,EASD,CAzBD,CA2BA,mBACE,oCACE,kCADF,kBACwB,mBAAIvB,KAAJ,EADxB,cAEE,cAAM,QAAQ,CAAEO,QAAhB,CAA0B,SAAS,CAAC,UAApC,wBACE,eAAO,SAAS,CAAC,aAAjB,wBACE,sCADF,cAEE,2BAFF,cAGE,gBAAQ,IAAI,CAAC,YAAb,CAA0B,QAAQ,KAAlC,wBACE,mCADF,cAEE,kCAFF,GAHF,GADF,cASE,eAAO,SAAS,CAAC,aAAjB,wBACE,oCADF,cAEE,2BAFF,cAGE,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,MAA5B,CAAmC,QAAQ,KAA3C,EAHF,GATF,cAcE,eAAO,SAAS,CAAC,aAAjB,wBACE,oCADF,cAEE,2BAFF,cAGE,cAAO,IAAI,CAAC,WAAZ,CAAwB,IAAI,CAAC,MAA7B,CAAoC,QAAQ,KAA5C,EAHF,GAdF,cAmBE,eAAO,SAAS,CAAC,aAAjB,wBACE,eADF,cAEE,eAFF,cAGE,eAAQ,SAAS,CAAC,KAAlB,kBAHF,GAnBF,GAFF,GADF,CA8BD,CAED,cAAeX,CAAAA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { axios } from \"../Axios\";\n\nfunction Postattendance({ userid }) {\n  const [attend, setAttend] = useState([]);\n  const today = new Date().toLocaleDateString();\n  useEffect(() => {\n    \n    axios.get(`/employees/${userid}`).then((res) => {\n      setAttend(res.data)\n    });\n  }, [userid]);\n  const Postdata = (e) => {\n    e.preventDefault();\n    const date = new Date().toLocaleDateString();\n    const attendance = e.target.attendance.value;\n    const aparture = e.target.aparture.value;\n    const departure = e.target.departure.value;\n    const id = attend.attendance.length+1;\n    const att = {\n      id,\n      date,\n      attendance,\n      aparture,\n      departure,\n    };\n    attend.attendance.push(att);\n\n    axios\n      .put(`/employees/${userid}/`, attend)\n      .then((res) => {\n        alert('saved attendance')\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n     \n  };\n\n  return (\n    <div>\n      <span>Today : </span> <b>{today}</b>\n      <form onSubmit={Postdata} className='att-form' >\n        <label className=\"form-column\">\n          <span>Attendance  </span>\n          <span>:</span>\n          <select name=\"attendance\" required>\n            <option >present</option>\n            <option >absent</option>\n          </select>\n        </label>\n        <label className=\"form-column\">\n          <span>Aparture  </span>\n          <span>:</span>\n          <input name=\"aparture\" type=\"time\" required />\n        </label>\n        <label className=\"form-column\">\n          <span>Departure </span>\n          <span>:</span>\n          <input name=\"departure\" type=\"time\" required/>\n        </label>\n        <label className=\"form-column\">\n          <span></span>\n          <span></span>\n          <button className=\"btn\">Post</button>\n        </label>\n      </form>\n    </div>\n  );\n}\n\nexport default Postattendance;\n"]},"metadata":{},"sourceType":"module"}