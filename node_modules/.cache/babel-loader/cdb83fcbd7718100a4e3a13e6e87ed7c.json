{"ast":null,"code":"import _slicedToArray from\"/home/amoni/Programs/bossmanagement/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Nav from\"../Nav\";import axios from\"../Axios\";import'../../css/login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Employeelogin(){var _useState=useState([{}]),_useState2=_slicedToArray(_useState,2),employees=_useState2[0],setEmployees=_useState2[1];useEffect(function(){axios.get(\"/employees\").then(function(res){setEmployees(res.data);});},[]);var Login=function Login(e){e.preventDefault();var uname=e.target.username.value;var pword=e.target.password.value;var currentuser=employees.filter(function(e){return e.username===uname;});console.log(currentuser);// const { username, password, id } = currentuser[0];\nif(currentuser.length===0){alert('this user is not in database');}else{if(currentuser[0].username===uname&&currentuser[0].password===pword){window.location=\"/employeesdashbord\";localStorage.setItem(\"currentuserid\",currentuser[0].id);}else alert(\"username and password is wrong\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:\"Employees Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:Login,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-column\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Username  \"}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-column\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password \"}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-column\",children:[/*#__PURE__*/_jsx(\"span\",{children:\" \"}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\",value:\"Sign In\"})]})]})]});}export default Employeelogin;","map":{"version":3,"sources":["/home/amoni/Programs/bossmanagement/src/components/employees/Employeelogin.jsx"],"names":["React","useEffect","useState","Nav","axios","Employeelogin","employees","setEmployees","get","then","res","data","Login","e","preventDefault","uname","target","username","value","pword","password","currentuser","filter","console","log","length","alert","window","location","localStorage","setItem","id"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,QAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,MAAO,qBAAP,C,wFACA,QAASC,CAAAA,aAAT,EAAyB,CACvB,cAAkCH,QAAQ,CAAC,CAAC,EAAD,CAAD,CAA1C,wCAAOI,SAAP,eAAkBC,YAAlB,eACAN,SAAS,CAAC,UAAM,CACdG,KAAK,CAACI,GAAN,CAAU,YAAV,EAAwBC,IAAxB,CAA6B,SAACC,GAAD,CAAS,CACpCH,YAAY,CAACG,GAAG,CAACC,IAAL,CAAZ,CACD,CAFD,EAGD,CAJQ,CAIN,EAJM,CAAT,CAKA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,CAAD,CAAO,CACnBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,KAAK,CAAGF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBC,KAAhC,CACA,GAAMC,CAAAA,KAAK,CAAGN,CAAC,CAACG,MAAF,CAASI,QAAT,CAAkBF,KAAhC,CACA,GAAMG,CAAAA,WAAW,CAAGf,SAAS,CAACgB,MAAV,CAAiB,SAACT,CAAD,QAAOA,CAAAA,CAAC,CAACI,QAAF,GAAeF,KAAtB,EAAjB,CAApB,CACAQ,OAAO,CAACC,GAAR,CAAYH,WAAZ,EACA;AACA,GAAIA,WAAW,CAACI,MAAZ,GAAuB,CAA3B,CAA8B,CAC5BC,KAAK,CAAC,8BAAD,CAAL,CACD,CAFD,IAGK,CACH,GAAIL,WAAW,CAAC,CAAD,CAAX,CAAeJ,QAAf,GAA4BF,KAA5B,EAAqCM,WAAW,CAAC,CAAD,CAAX,CAAeD,QAAf,GAA4BD,KAArE,CAA4E,CAC1EQ,MAAM,CAACC,QAAP,sBACAC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCT,WAAW,CAAC,CAAD,CAAX,CAAeU,EAArD,EACD,CAHD,IAGOL,CAAAA,KAAK,CAAC,gCAAD,CAAL,CACR,CACF,CAhBD,CAiBA,mBACE,oCACE,KAAC,GAAD,IADF,cAEE,WAAI,SAAS,CAAC,OAAd,6BAFF,cAGE,cAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAEd,KAAvC,wBACE,eAAO,SAAS,CAAC,aAAjB,wBACE,oCADF,cAEE,2BAFF,cAGE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,EAHF,GADF,cAME,eAAO,SAAS,CAAC,aAAjB,wBACE,mCADF,cAEE,2BAFF,cAGE,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,EAHF,GANF,cAWE,eAAO,SAAS,CAAC,aAAjB,wBACE,2BADF,cAEE,eAFF,cAGE,cAAO,SAAS,CAAC,KAAjB,CAAuB,IAAI,CAAC,QAA5B,CAAqC,KAAK,CAAC,SAA3C,EAHF,GAXF,GAHF,GADF,CAuBD,CAED,cAAeP,CAAAA,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Nav from \"../Nav\";\nimport axios from \"../Axios\";\nimport '../../css/login.css'\nfunction Employeelogin() {\n  const [employees, setEmployees] = useState([{}]);\n  useEffect(() => {\n    axios.get(\"/employees\").then((res) => {\n      setEmployees(res.data);\n    });\n  }, []);\n  const Login = (e) => {\n    e.preventDefault();\n    const uname = e.target.username.value;\n    const pword = e.target.password.value;\n    const currentuser = employees.filter((e) => e.username === uname);\n    console.log(currentuser)\n    // const { username, password, id } = currentuser[0];\n    if (currentuser.length === 0) {\n      alert('this user is not in database')\n    }\n    else {\n      if (currentuser[0].username === uname && currentuser[0].password === pword) {\n        window.location = `/employeesdashbord`;\n        localStorage.setItem(\"currentuserid\", currentuser[0].id);\n      } else alert(\"username and password is wrong\");\n    }\n  }\n  return (\n    <div>\n      <Nav />\n      <h3 className='title'>Employees Login</h3>\n      <form className=\"login-form\" onSubmit={Login}>\n        <label className=\"form-column\">\n          <span>Username  </span>\n          <span>:</span>\n          <input type=\"text\" name=\"username\" />\n        </label>\n        <label className=\"form-column\">\n          <span>Password </span>\n          <span>:</span>\n          <input type=\"password\" name=\"password\" />\n        </label>\n        <label className=\"form-column\">\n          <span> </span>\n          <span></span>\n          <input className=\"btn\" type=\"submit\" value=\"Sign In\" />\n        </label>\n      </form>\n    </div>\n  );\n}\n\nexport default Employeelogin;\n"]},"metadata":{},"sourceType":"module"}